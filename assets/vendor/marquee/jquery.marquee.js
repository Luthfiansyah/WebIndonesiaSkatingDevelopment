!function($){$.fn.marquee=function(e){return this.each(function(){var t=$.extend({},$.fn.marquee.defaults,e),i=$(this),a,n,r,s,o,u=3,d="animation-play-state",p=!1,l=function(e,t,i){for(var a=["webkit","moz","MS","o",""],n=0;n<a.length;n++)a[n]||(t=t.toLowerCase()),e.addEventListener(a[n]+t,i,!1)},c=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+":"+e[i]);return t.push(),"{"+t.join(",")+"}"},f=function(){i.timer=setTimeout(B,t.delayBeforeStart)},m={pause:function(){p&&t.allowCss3Support?a.css(d,"paused"):$.fn.pause&&a.pause(),i.data("runningStatus","paused"),i.trigger("paused")},resume:function(){p&&t.allowCss3Support?a.css(d,"running"):$.fn.resume&&a.resume(),i.data("runningStatus","resumed"),i.trigger("resumed")},toggle:function(){m["resumed"==i.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(i.timer),i.find("*").addBack().unbind(),i.html(i.find(".js-marquee:first").html())}};if("string"==typeof e)return void($.isFunction(m[e])&&(a||(a=i.find(".js-marquee-wrapper")),i.data("css3AnimationIsSupported")===!0&&(p=!0),m[e]()));var g={},h;$.each(t,function(e,a){if(void 0!==(h=i.attr("data-"+e))){switch(h){case"true":h=!0;break;case"false":h=!1}t[e]=h}}),t.duration=t.speed||t.duration,s="up"==t.direction||"down"==t.direction,t.gap=t.duplicated?parseInt(t.gap):0,i.wrapInner('<div class="js-marquee"></div>');var v=i.find(".js-marquee").css({"margin-right":t.gap,float:"left"});if(t.duplicated&&v.clone(!0).appendTo(i),i.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),a=i.find(".js-marquee-wrapper"),s){var y=i.height();a.removeAttr("style"),i.height(y),i.find(".js-marquee").css({float:"none","margin-bottom":t.gap,"margin-right":0}),t.duplicated&&i.find(".js-marquee:last").css({"margin-bottom":0});var x=i.find(".js-marquee:first").height()+t.gap;t.startVisible&&!t.duplicated?(t._completeDuration=(parseInt(x,10)+parseInt(y,10))/parseInt(y,10)*t.duration,t.duration=parseInt(x,10)/parseInt(y,10)*t.duration):t.duration=(parseInt(x,10)+parseInt(y,10))/parseInt(y,10)*t.duration}else o=i.find(".js-marquee:first").width()+t.gap,n=i.width(),t.startVisible&&!t.duplicated?(t._completeDuration=(parseInt(o,10)+parseInt(n,10))/parseInt(n,10)*t.duration,t.duration=parseInt(o,10)/parseInt(n,10)*t.duration):t.duration=(parseInt(o,10)+parseInt(n,10))/parseInt(n,10)*t.duration;if(t.duplicated&&(t.duration=t.duration/2),t.allowCss3Support){var I=document.body||document.createElement("div"),b="marqueeAnimation-"+Math.floor(1e7*Math.random()),w="Webkit Moz O ms Khtml".split(" "),S="animation",q="",j="";if(I.style.animation&&(j="@keyframes "+b+" ",p=!0),p===!1)for(var C=0;C<w.length;C++)if(void 0!==I.style[w[C]+"AnimationName"]){var V="-"+w[C].toLowerCase()+"-";S=V+S,d=V+d,j="@"+V+"keyframes "+b+" ",p=!0;break}p&&(q=b+" "+t.duration/1e3+"s "+t.delayBeforeStart/1e3+"s infinite "+t.css3easing,i.data("css3AnimationIsSupported",!0))}var k=function(){a.css("margin-top","up"==t.direction?y+"px":"-"+x+"px")},A=function(){a.css("margin-left","left"==t.direction?n+"px":"-"+o+"px")};t.duplicated?(s?t.startVisible?a.css("margin-top",0):a.css("margin-top","up"==t.direction?y+"px":"-"+(2*x-t.gap)+"px"):t.startVisible?a.css("margin-left",0):a.css("margin-left","left"==t.direction?n+"px":"-"+(2*o-t.gap)+"px"),t.startVisible||(u=1)):t.startVisible?u=2:s?k():A();var B=function(){if(t.duplicated&&(1===u?(t._originalDuration=t.duration,t.duration=s?"up"==t.direction?t.duration+y/(x/t.duration):2*t.duration:"left"==t.direction?t.duration+n/(o/t.duration):2*t.duration,q&&(q=b+" "+t.duration/1e3+"s "+t.delayBeforeStart/1e3+"s "+t.css3easing),u++):2===u&&(t.duration=t._originalDuration,q&&(b+="0",j=$.trim(j)+"0 ",q=b+" "+t.duration/1e3+"s 0s infinite "+t.css3easing),u++)),s?t.duplicated?(u>2&&a.css("margin-top","up"==t.direction?0:"-"+x+"px"),r={"margin-top":"up"==t.direction?"-"+x+"px":0}):t.startVisible?2===u?(q&&(q=b+" "+t.duration/1e3+"s "+t.delayBeforeStart/1e3+"s "+t.css3easing),r={"margin-top":"up"==t.direction?"-"+x+"px":y+"px"},u++):3===u&&(t.duration=t._completeDuration,q&&(b+="0",j=$.trim(j)+"0 ",q=b+" "+t.duration/1e3+"s 0s infinite "+t.css3easing),k()):(k(),r={"margin-top":"up"==t.direction?"-"+a.height()+"px":y+"px"}):t.duplicated?(u>2&&a.css("margin-left","left"==t.direction?0:"-"+o+"px"),r={"margin-left":"left"==t.direction?"-"+o+"px":0}):t.startVisible?2===u?(q&&(q=b+" "+t.duration/1e3+"s "+t.delayBeforeStart/1e3+"s "+t.css3easing),r={"margin-left":"left"==t.direction?"-"+o+"px":n+"px"},u++):3===u&&(t.duration=t._completeDuration,q&&(b+="0",j=$.trim(j)+"0 ",q=b+" "+t.duration/1e3+"s 0s infinite "+t.css3easing),A()):(A(),r={"margin-left":"left"==t.direction?"-"+o+"px":n+"px"}),i.trigger("beforeStarting"),p){a.css(S,q);var e=j+" { 100%  "+c(r)+"}",d=a.find("style");0!==d.length?d.filter(":last").html(e):$("head").append("<style>"+e+"</style>"),l(a[0],"AnimationIteration",function(){i.trigger("finished")}),l(a[0],"AnimationEnd",function(){B(),i.trigger("finished")})}else a.animate(r,t.duration,t.easing,function(){i.trigger("finished"),t.pauseOnCycle?f():B()});i.data("runningStatus","resumed")};i.bind("pause",m.pause),i.bind("resume",m.resume),t.pauseOnHover&&i.bind("mouseenter mouseleave",m.toggle),p&&t.allowCss3Support?B():f()})},$.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1}}(jQuery);