!function(e){e.fn.marquee=function(t){return this.each(function(){var i=e.extend({},e.fn.marquee.defaults,t),a=e(this),n,r,s,o,u,d=3,p="animation-play-state",l=!1,c=function(e,t,i){for(var a=["webkit","moz","MS","o",""],n=0;n<a.length;n++)a[n]||(t=t.toLowerCase()),e.addEventListener(a[n]+t,i,!1)},f=function(e){var t=[],i;for(i in e)e.hasOwnProperty(i)&&t.push(i+":"+e[i]);return t.push(),"{"+t.join(",")+"}"},m={pause:function(){l&&i.allowCss3Support?n.css(p,"paused"):e.fn.pause&&n.pause(),a.data("runningStatus","paused"),a.trigger("paused")},resume:function(){l&&i.allowCss3Support?n.css(p,"running"):e.fn.resume&&n.resume(),a.data("runningStatus","resumed"),a.trigger("resumed")},toggle:function(){m["resumed"==a.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(a.timer),a.find("*").andSelf().unbind(),a.html(a.find(".js-marquee:first").html())}};if("string"==typeof t)e.isFunction(m[t])&&(n||(n=a.find(".js-marquee-wrapper")),!0===a.data("css3AnimationIsSupported")&&(l=!0),m[t]());else{var g;e.each(i,function(e,t){if(void 0!==(g=a.attr("data-"+e))){switch(g){case"true":g=!0;break;case"false":g=!1}i[e]=g}}),i.speed&&(i.duration=i.speed*parseInt(a.width(),10)),o="up"==i.direction||"down"==i.direction,i.gap=i.duplicated?parseInt(i.gap):0,a.wrapInner('<div class="js-marquee"></div>');var h=a.find(".js-marquee").css({"margin-right":i.gap,float:"left"});if(i.duplicated&&h.clone(!0).appendTo(a),a.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),n=a.find(".js-marquee-wrapper"),o){var v=a.height();n.removeAttr("style"),a.height(v),a.find(".js-marquee").css({float:"none","margin-bottom":i.gap,"margin-right":0}),i.duplicated&&a.find(".js-marquee:last").css({"margin-bottom":0});var y=a.find(".js-marquee:first").height()+i.gap;i.startVisible&&!i.duplicated?(i._completeDuration=(parseInt(y,10)+parseInt(v,10))/parseInt(v,10)*i.duration,i.duration*=parseInt(y,10)/parseInt(v,10)):i.duration*=(parseInt(y,10)+parseInt(v,10))/parseInt(v,10)}else u=a.find(".js-marquee:first").width()+i.gap,r=a.width(),i.startVisible&&!i.duplicated?(i._completeDuration=(parseInt(u,10)+parseInt(r,10))/parseInt(r,10)*i.duration,i.duration*=parseInt(u,10)/parseInt(r,10)):i.duration*=(parseInt(u,10)+parseInt(r,10))/parseInt(r,10);if(i.duplicated&&(i.duration/=2),i.allowCss3Support){var h=document.body||document.createElement("div"),I="marqueeAnimation-"+Math.floor(1e7*Math.random()),x=["Webkit","Moz","O","ms","Khtml"],b="animation",S="",w="";if(h.style.animation&&(w="@keyframes "+I+" ",l=!0),!1===l)for(var q=0;q<x.length;q++)if(void 0!==h.style[x[q]+"AnimationName"]){h="-"+x[q].toLowerCase()+"-",b=h+b,p=h+p,w="@"+h+"keyframes "+I+" ",l=!0;break}l&&(S=I+" "+i.duration/1e3+"s "+i.delayBeforeStart/1e3+"s infinite "+i.css3easing,a.data("css3AnimationIsSupported",!0))}var j=function(){n.css("margin-top","up"==i.direction?v+"px":"-"+y+"px")},C=function(){n.css("margin-left","left"==i.direction?r+"px":"-"+u+"px")};i.duplicated?(o?i.startVisible?n.css("margin-top",0):n.css("margin-top","up"==i.direction?v+"px":"-"+(2*y-i.gap)+"px"):i.startVisible?n.css("margin-left",0):n.css("margin-left","left"==i.direction?r+"px":"-"+(2*u-i.gap)+"px"),i.startVisible||(d=1)):i.startVisible?d=2:o?j():C();var V=function(){if(i.duplicated&&(1===d?(i._originalDuration=i.duration,i.duration=o?"up"==i.direction?i.duration+v/(y/i.duration):2*i.duration:"left"==i.direction?i.duration+r/(u/i.duration):2*i.duration,S&&(S=I+" "+i.duration/1e3+"s "+i.delayBeforeStart/1e3+"s "+i.css3easing),d++):2===d&&(i.duration=i._originalDuration,S&&(I+="0",w=e.trim(w)+"0 ",S=I+" "+i.duration/1e3+"s 0s infinite "+i.css3easing),d++)),o?i.duplicated?(2<d&&n.css("margin-top","up"==i.direction?0:"-"+y+"px"),s={"margin-top":"up"==i.direction?"-"+y+"px":0}):i.startVisible?2===d?(S&&(S=I+" "+i.duration/1e3+"s "+i.delayBeforeStart/1e3+"s "+i.css3easing),s={"margin-top":"up"==i.direction?"-"+y+"px":v+"px"},d++):3===d&&(i.duration=i._completeDuration,S&&(I+="0",w=e.trim(w)+"0 ",S=I+" "+i.duration/1e3+"s 0s infinite "+i.css3easing),j()):(j(),s={"margin-top":"up"==i.direction?"-"+n.height()+"px":v+"px"}):i.duplicated?(2<d&&n.css("margin-left","left"==i.direction?0:"-"+u+"px"),s={"margin-left":"left"==i.direction?"-"+u+"px":0}):i.startVisible?2===d?(S&&(S=I+" "+i.duration/1e3+"s "+i.delayBeforeStart/1e3+"s "+i.css3easing),s={"margin-left":"left"==i.direction?"-"+u+"px":r+"px"},d++):3===d&&(i.duration=i._completeDuration,S&&(I+="0",w=e.trim(w)+"0 ",S=I+" "+i.duration/1e3+"s 0s infinite "+i.css3easing),C()):(C(),s={"margin-left":"left"==i.direction?"-"+u+"px":r+"px"}),a.trigger("beforeStarting"),l){n.css(b,S);var t=w+" { 100%  "+f(s)+"}",p=n.find("style");0!==p.length?p.filter(":last").html(t):n.append("<style>"+t+"</style>"),c(n[0],"AnimationIteration",function(){a.trigger("finished")}),c(n[0],"AnimationEnd",function(){V(),a.trigger("finished")})}else n.animate(s,i.duration,i.easing,function(){a.trigger("finished"),i.pauseOnCycle?a.timer=setTimeout(V,i.delayBeforeStart):V()});a.data("runningStatus","resumed")};a.bind("pause",m.pause),a.bind("resume",m.resume),i.pauseOnHover&&a.bind("mouseenter mouseleave",m.toggle),l&&i.allowCss3Support?V():a.timer=setTimeout(V,i.delayBeforeStart)}})},e.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1}}(jQuery);